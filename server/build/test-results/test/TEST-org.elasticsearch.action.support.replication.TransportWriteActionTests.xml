<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="org.elasticsearch.action.support.replication.TransportWriteActionTests" tests="10" skipped="0" failures="0" errors="0" timestamp="2020-02-16T22:20:48" hostname="Escoto-PC" time="0.071">
  <properties/>
  <testcase name="testPrimaryWaitForRefresh" classname="org.elasticsearch.action.support.replication.TransportWriteActionTests" time="0.012"/>
  <testcase name="testReplicaProxy" classname="org.elasticsearch.action.support.replication.TransportWriteActionTests" time="0.014"/>
  <testcase name="testDocumentFailureInShardOperationOnReplica" classname="org.elasticsearch.action.support.replication.TransportWriteActionTests" time="0.005"/>
  <testcase name="testReplicaImmediateRefresh" classname="org.elasticsearch.action.support.replication.TransportWriteActionTests" time="0.006"/>
  <testcase name="testReplicaWaitForRefresh" classname="org.elasticsearch.action.support.replication.TransportWriteActionTests" time="0.007"/>
  <testcase name="testPrimaryImmediateRefresh" classname="org.elasticsearch.action.support.replication.TransportWriteActionTests" time="0.004"/>
  <testcase name="testDocumentFailureInShardOperationOnPrimary" classname="org.elasticsearch.action.support.replication.TransportWriteActionTests" time="0.004"/>
  <testcase name="testConcurrentWriteReplicaResultCompletion" classname="org.elasticsearch.action.support.replication.TransportWriteActionTests" time="0.005"/>
  <testcase name="testPrimaryNoRefreshCall" classname="org.elasticsearch.action.support.replication.TransportWriteActionTests" time="0.007"/>
  <testcase name="testReplicaNoRefreshCall" classname="org.elasticsearch.action.support.replication.TransportWriteActionTests" time="0.004"/>
  <system-out><![CDATA[[2020-02-16T13:20:48,388][INFO ][o.e.a.s.r.TransportWriteActionTests] [testPrimaryWaitForRefresh] before test
[2020-02-16T13:20:48,397][INFO ][o.e.a.s.r.TransportWriteActionTests] [testPrimaryWaitForRefresh] after test
[2020-02-16T13:20:48,399][INFO ][o.e.a.s.r.TransportWriteActionTests] [testReplicaProxy] before test
[2020-02-16T13:20:48,403][INFO ][o.e.a.s.r.TransportWriteActionTests] [testReplicaProxy] using state: cluster uuid: 6W2VHXzMRHO6iI6FtuhrKw [committed: false]
version: 0
state uuid: aZ0ncHaIR4agv6xCT3reZQ
from_diff: false
meta data version: 0
   coordination_metadata:
      term: 0
      last_committed_config: VotingConfiguration{}
      last_accepted_config: VotingConfiguration{}
      voting tombstones: []
   [test]: v[1], mv[1], sv[1], av[1]
      0: p_term [125], isa_ids [ZrSFNgB8Q9ORSJpX3yf2EQ, Bj4YdEBhQLqeNDLiYDs-Eg]
metadata customs:
   index-graveyard: IndexGraveyard[[]]
nodes: 
   {node_0}{zdTZOqLaTTmfSomF12dhRQ}{0.0.0.0}{0.0.0.0:3}{dim}, local
   {node_1}{ookPGiVxTzO7J3-gZAkZNQ}{0.0.0.0}{0.0.0.0:4}{dim}, master
   {node_2}{l5g_-kbkRaWWHku0Iy8h2Q}{0.0.0.0}{0.0.0.0:5}{dim}
routing_table (version 0):
-- index [[test]]
----shard_id [test][0]
--------[test][0], node[node_0], [P], s[STARTED], a[id=ZrSFNgB8Q9ORSJpX3yf2EQ]
--------[test][0], node[node_1], [R], s[STARTED], a[id=Bj4YdEBhQLqeNDLiYDs-Eg]

routing_nodes:
-----node_id[node_0][V]
--------[test][0], node[node_0], [P], s[STARTED], a[id=ZrSFNgB8Q9ORSJpX3yf2EQ]
-----node_id[node_1][V]
--------[test][0], node[node_1], [R], s[STARTED], a[id=Bj4YdEBhQLqeNDLiYDs-Eg]
-----node_id[node_2][V]
---- unassigned

[2020-02-16T13:20:48,403][INFO ][o.e.c.s.ClusterApplierService] [test] master node changed {previous [{node}{FWBeXrzGQY2G6r13GU-3_Q}{0.0.0.0}{0.0.0.0:2}{dim}], current [{node_1}{ookPGiVxTzO7J3-gZAkZNQ}{0.0.0.0}{0.0.0.0:4}{dim}]}, removed {{node}{FWBeXrzGQY2G6r13GU-3_Q}{0.0.0.0}{0.0.0.0:2}{dim}}, added {{node_1}{ookPGiVxTzO7J3-gZAkZNQ}{0.0.0.0}{0.0.0.0:4}{dim},{node_2}{l5g_-kbkRaWWHku0Iy8h2Q}{0.0.0.0}{0.0.0.0:5}{dim}}, term: 0, version: 1, reason: test setting state
[2020-02-16T13:20:48,405][WARN ][o.e.a.s.r.T.TestAction   ] [testReplicaProxy] [[test][0]] test
org.elasticsearch.ElasticsearchException: simulated
	at org.elasticsearch.action.support.replication.TransportWriteActionTests.testReplicaProxy(TransportWriteActionTests.java:323) [test/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:567) ~[?:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1750) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:938) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:974) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:988) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:817) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:468) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:947) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:832) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:883) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:894) [randomizedtesting-runner-2.7.1.jar:?]
	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368) [randomizedtesting-runner-2.7.1.jar:?]
	at java.lang.Thread.run(Thread.java:835) [?:?]
[2020-02-16T13:20:48,408][WARN ][o.e.c.a.s.ShardStateAction] [testReplicaProxy] unexpected failure while sending request [internal:cluster/shard/failure] to [{node_1}{ookPGiVxTzO7J3-gZAkZNQ}{0.0.0.0}{0.0.0.0:4}{dim}] for shard entry [shard id [[test][0]], allocation id [Bj4YdEBhQLqeNDLiYDs-Eg], primary term [125], message [test], failure [ElasticsearchException[simulated]], markAsStale [true]]
org.elasticsearch.transport.RemoteTransportException: [remote failure]
Caused by: org.elasticsearch.cluster.action.shard.ShardStateAction$NoLongerPrimaryShardException: shard-failed-test
	at org.elasticsearch.action.support.replication.TransportWriteActionTests.testReplicaProxy(TransportWriteActionTests.java:341) [test/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:567) ~[?:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1750) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:938) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:974) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:988) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:817) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:468) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:947) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:832) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:883) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:894) [randomizedtesting-runner-2.7.1.jar:?]
	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368) [randomizedtesting-runner-2.7.1.jar:?]
	at java.lang.Thread.run(Thread.java:835) [?:?]
[2020-02-16T13:20:48,411][INFO ][o.e.a.s.r.TransportWriteActionTests] [testReplicaProxy] after test
[2020-02-16T13:20:48,413][INFO ][o.e.a.s.r.TransportWriteActionTests] [testDocumentFailureInShardOperationOnReplica] before test
[2020-02-16T13:20:48,415][INFO ][o.e.a.s.r.TransportWriteActionTests] [testDocumentFailureInShardOperationOnReplica] after test
[2020-02-16T13:20:48,418][INFO ][o.e.a.s.r.TransportWriteActionTests] [testReplicaImmediateRefresh] before test
[2020-02-16T13:20:48,421][INFO ][o.e.a.s.r.TransportWriteActionTests] [testReplicaImmediateRefresh] after test
[2020-02-16T13:20:48,426][INFO ][o.e.a.s.r.TransportWriteActionTests] [testReplicaWaitForRefresh] before test
[2020-02-16T13:20:48,429][WARN ][o.e.a.s.r.T.TestAction   ] [testReplicaWaitForRefresh] block until refresh ran out of slots and forced a refresh: [TestRequest{}]
[2020-02-16T13:20:48,429][INFO ][o.e.a.s.r.TransportWriteActionTests] [testReplicaWaitForRefresh] after test
[2020-02-16T13:20:48,431][INFO ][o.e.a.s.r.TransportWriteActionTests] [testPrimaryImmediateRefresh] before test
[2020-02-16T13:20:48,434][INFO ][o.e.a.s.r.TransportWriteActionTests] [testPrimaryImmediateRefresh] after test
[2020-02-16T13:20:48,436][INFO ][o.e.a.s.r.TransportWriteActionTests] [testDocumentFailureInShardOperationOnPrimary] before test
[2020-02-16T13:20:48,439][INFO ][o.e.a.s.r.TransportWriteActionTests] [testDocumentFailureInShardOperationOnPrimary] after test
[2020-02-16T13:20:48,441][INFO ][o.e.a.s.r.TransportWriteActionTests] [testConcurrentWriteReplicaResultCompletion] before test
[2020-02-16T13:20:48,444][INFO ][o.e.a.s.r.TransportWriteActionTests] [testConcurrentWriteReplicaResultCompletion] after test
[2020-02-16T13:20:48,447][INFO ][o.e.a.s.r.TransportWriteActionTests] [testPrimaryNoRefreshCall] before test
[2020-02-16T13:20:48,451][INFO ][o.e.a.s.r.TransportWriteActionTests] [testPrimaryNoRefreshCall] after test
[2020-02-16T13:20:48,453][INFO ][o.e.a.s.r.TransportWriteActionTests] [testReplicaNoRefreshCall] before test
[2020-02-16T13:20:48,456][INFO ][o.e.a.s.r.TransportWriteActionTests] [testReplicaNoRefreshCall] after test
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
