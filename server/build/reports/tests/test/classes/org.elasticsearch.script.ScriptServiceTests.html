<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class org.elasticsearch.script.ScriptServiceTests</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class org.elasticsearch.script.ScriptServiceTests</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/org.elasticsearch.script.html">org.elasticsearch.script</a> &gt; ScriptServiceTests</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">20</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">0.113s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">testAllowAllScriptContextSettings</td>
<td class="success">0.006s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testAllowAllScriptTypeSettings</td>
<td class="success">0.008s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testAllowNoScriptContextSettings</td>
<td class="success">0.005s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testAllowNoScriptTypeSettings</td>
<td class="success">0.008s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testAllowSomeScriptContextSettings</td>
<td class="success">0.005s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testAllowSomeScriptTypeSettings</td>
<td class="success">0.005s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCacheEvictionCountedInCacheEvictionsStats</td>
<td class="success">0.006s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCompilationCircuitBreaking</td>
<td class="success">0.008s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCompilationStatsOnCacheHit</td>
<td class="success">0.006s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCompileCountedInCompilationStats</td>
<td class="success">0.003s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCompileNonRegisteredContext</td>
<td class="success">0.006s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testDeleteScript</td>
<td class="success">0.004s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testGetStoredScript</td>
<td class="success">0.008s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testIndexedScriptCountedInCompilationStats</td>
<td class="success">0.004s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testInlineScriptCompiledOnceCache</td>
<td class="success">0.005s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testMaxCompilationRateSetting</td>
<td class="success">0.003s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testMaxSizeLimit</td>
<td class="success">0.007s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testMultipleCompilationsCountedInCompilationStats</td>
<td class="success">0.007s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testNotSupportedDisableDynamicSetting</td>
<td class="success">0.004s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testStoreScript</td>
<td class="success">0.005s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>[2020-02-16T18:24:05,886][INFO ][o.e.s.ScriptServiceTests ] [testInlineScriptCompiledOnceCache] before test
[2020-02-16T18:24:05,887][INFO ][o.e.s.ScriptServiceTests ] [testInlineScriptCompiledOnceCache] --&gt; setup script service
[2020-02-16T18:24:05,889][INFO ][o.e.s.ScriptServiceTests ] [testInlineScriptCompiledOnceCache] after test
[2020-02-16T18:24:05,892][INFO ][o.e.s.ScriptServiceTests ] [testCompilationStatsOnCacheHit] before test
[2020-02-16T18:24:05,894][INFO ][o.e.s.ScriptServiceTests ] [testCompilationStatsOnCacheHit] --&gt; setup script service
[2020-02-16T18:24:05,896][INFO ][o.e.s.ScriptServiceTests ] [testCompilationStatsOnCacheHit] after test
[2020-02-16T18:24:05,897][INFO ][o.e.s.ScriptServiceTests ] [testAllowSomeScriptContextSettings] before test
[2020-02-16T18:24:05,898][INFO ][o.e.s.ScriptServiceTests ] [testAllowSomeScriptContextSettings] --&gt; setup script service
[2020-02-16T18:24:05,900][INFO ][o.e.s.ScriptServiceTests ] [testAllowSomeScriptContextSettings] after test
[2020-02-16T18:24:05,902][INFO ][o.e.s.ScriptServiceTests ] [testCompileCountedInCompilationStats] before test
[2020-02-16T18:24:05,902][INFO ][o.e.s.ScriptServiceTests ] [testCompileCountedInCompilationStats] --&gt; setup script service
[2020-02-16T18:24:05,904][INFO ][o.e.s.ScriptServiceTests ] [testCompileCountedInCompilationStats] after test
[2020-02-16T18:24:05,906][INFO ][o.e.s.ScriptServiceTests ] [testNotSupportedDisableDynamicSetting] before test
[2020-02-16T18:24:05,907][INFO ][o.e.s.ScriptServiceTests ] [testNotSupportedDisableDynamicSetting] --&gt; setup script service
[2020-02-16T18:24:05,907][INFO ][o.e.s.ScriptServiceTests ] [testNotSupportedDisableDynamicSetting] after test
[2020-02-16T18:24:05,909][INFO ][o.e.s.ScriptServiceTests ] [testMaxCompilationRateSetting] before test
[2020-02-16T18:24:05,910][INFO ][o.e.s.ScriptServiceTests ] [testMaxCompilationRateSetting] --&gt; setup script service
[2020-02-16T18:24:05,911][INFO ][o.e.s.ScriptServiceTests ] [testMaxCompilationRateSetting] after test
[2020-02-16T18:24:05,913][INFO ][o.e.s.ScriptServiceTests ] [testDeleteScript] before test
[2020-02-16T18:24:05,914][INFO ][o.e.s.ScriptServiceTests ] [testDeleteScript] --&gt; setup script service
[2020-02-16T18:24:05,915][INFO ][o.e.s.ScriptServiceTests ] [testDeleteScript] after test
[2020-02-16T18:24:05,917][INFO ][o.e.s.ScriptServiceTests ] [testIndexedScriptCountedInCompilationStats] before test
[2020-02-16T18:24:05,918][INFO ][o.e.s.ScriptServiceTests ] [testIndexedScriptCountedInCompilationStats] --&gt; setup script service
[2020-02-16T18:24:05,920][INFO ][o.e.s.ScriptServiceTests ] [testIndexedScriptCountedInCompilationStats] after test
[2020-02-16T18:24:05,925][INFO ][o.e.s.ScriptServiceTests ] [testStoreScript] before test
[2020-02-16T18:24:05,926][INFO ][o.e.s.ScriptServiceTests ] [testStoreScript] --&gt; setup script service
[2020-02-16T18:24:05,926][INFO ][o.e.s.ScriptServiceTests ] [testStoreScript] after test
[2020-02-16T18:24:05,929][INFO ][o.e.s.ScriptServiceTests ] [testAllowAllScriptContextSettings] before test
[2020-02-16T18:24:05,931][INFO ][o.e.s.ScriptServiceTests ] [testAllowAllScriptContextSettings] --&gt; setup script service
[2020-02-16T18:24:05,932][INFO ][o.e.s.ScriptServiceTests ] [testAllowAllScriptContextSettings] after test
[2020-02-16T18:24:05,935][INFO ][o.e.s.ScriptServiceTests ] [testAllowSomeScriptTypeSettings] before test
[2020-02-16T18:24:05,936][INFO ][o.e.s.ScriptServiceTests ] [testAllowSomeScriptTypeSettings] --&gt; setup script service
[2020-02-16T18:24:05,937][INFO ][o.e.s.ScriptServiceTests ] [testAllowSomeScriptTypeSettings] after test
[2020-02-16T18:24:05,939][INFO ][o.e.s.ScriptServiceTests ] [testMaxSizeLimit] before test
[2020-02-16T18:24:05,941][INFO ][o.e.s.ScriptServiceTests ] [testMaxSizeLimit] --&gt; setup script service
[2020-02-16T18:24:05,942][INFO ][o.e.c.s.ClusterSettings  ] [testMaxSizeLimit] updating [script.max_size_in_bytes] from [4] to [6]
[2020-02-16T18:24:05,943][INFO ][o.e.c.s.ClusterSettings  ] [testMaxSizeLimit] updating [script.max_size_in_bytes] from [6] to [5]
[2020-02-16T18:24:05,943][INFO ][o.e.c.s.ClusterSettings  ] [testMaxSizeLimit] updating [script.max_size_in_bytes] from [5] to [2]
[2020-02-16T18:24:05,943][WARN ][o.e.c.s.ClusterSettings  ] [testMaxSizeLimit] failed to apply settings
java.lang.IllegalArgumentException: script.max_size_in_bytes cannot be set to [2], stored script [test1] exceeds the new value with a size of [3]
	at org.elasticsearch.script.ScriptService.setMaxSizeInBytes(ScriptService.java:261) ~[main/:?]
	at org.elasticsearch.common.settings.Setting$Updater.apply(Setting.java:1030) ~[main/:?]
	at org.elasticsearch.common.settings.AbstractScopedSettings$SettingUpdater.lambda$updater$0(AbstractScopedSettings.java:609) ~[main/:?]
	at org.elasticsearch.common.settings.AbstractScopedSettings.applySettings(AbstractScopedSettings.java:191) [main/:?]
	at org.elasticsearch.script.ScriptServiceTests.lambda$testMaxSizeLimit$10(ScriptServiceTests.java:334) [test/:?]
	at org.apache.lucene.util.LuceneTestCase._expectThrows(LuceneTestCase.java:2842) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.LuceneTestCase.expectThrows(LuceneTestCase.java:2717) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.LuceneTestCase.expectThrows(LuceneTestCase.java:2712) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.elasticsearch.script.ScriptServiceTests.testMaxSizeLimit(ScriptServiceTests.java:333) [test/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:567) ~[?:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1750) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:938) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:974) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:988) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:817) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:468) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:947) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:832) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:883) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:894) [randomizedtesting-runner-2.7.1.jar:?]
	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54) [lucene-test-framework-8.3.0.jar:8.3.0 2aa586909b911e66e1d8863aa89f173d69f86cd2 - ishan - 2019-10-25 23:10:05]
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.1.jar:?]
	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368) [randomizedtesting-runner-2.7.1.jar:?]
	at java.lang.Thread.run(Thread.java:835) [?:?]
[2020-02-16T18:24:05,944][INFO ][o.e.s.ScriptServiceTests ] [testMaxSizeLimit] after test
[2020-02-16T18:24:05,950][INFO ][o.e.s.ScriptServiceTests ] [testAllowNoScriptTypeSettings] before test
[2020-02-16T18:24:05,951][INFO ][o.e.s.ScriptServiceTests ] [testAllowNoScriptTypeSettings] --&gt; setup script service
[2020-02-16T18:24:05,952][INFO ][o.e.s.ScriptServiceTests ] [testAllowNoScriptTypeSettings] after test
[2020-02-16T18:24:05,958][INFO ][o.e.s.ScriptServiceTests ] [testAllowAllScriptTypeSettings] before test
[2020-02-16T18:24:05,959][INFO ][o.e.s.ScriptServiceTests ] [testAllowAllScriptTypeSettings] --&gt; setup script service
[2020-02-16T18:24:05,961][INFO ][o.e.s.ScriptServiceTests ] [testAllowAllScriptTypeSettings] after test
[2020-02-16T18:24:05,964][INFO ][o.e.s.ScriptServiceTests ] [testCompileNonRegisteredContext] before test
[2020-02-16T18:24:05,966][INFO ][o.e.s.ScriptServiceTests ] [testCompileNonRegisteredContext] --&gt; setup script service
[2020-02-16T18:24:05,967][INFO ][o.e.s.ScriptServiceTests ] [testCompileNonRegisteredContext] after test
[2020-02-16T18:24:05,971][INFO ][o.e.s.ScriptServiceTests ] [testGetStoredScript] before test
[2020-02-16T18:24:05,974][INFO ][o.e.s.ScriptServiceTests ] [testGetStoredScript] --&gt; setup script service
[2020-02-16T18:24:05,975][INFO ][o.e.s.ScriptServiceTests ] [testGetStoredScript] after test
[2020-02-16T18:24:05,980][INFO ][o.e.s.ScriptServiceTests ] [testCompilationCircuitBreaking] before test
[2020-02-16T18:24:05,981][INFO ][o.e.s.ScriptServiceTests ] [testCompilationCircuitBreaking] --&gt; setup script service
[2020-02-16T18:24:05,984][INFO ][o.e.s.ScriptServiceTests ] [testCompilationCircuitBreaking] after test
[2020-02-16T18:24:05,986][INFO ][o.e.s.ScriptServiceTests ] [testAllowNoScriptContextSettings] before test
[2020-02-16T18:24:05,987][INFO ][o.e.s.ScriptServiceTests ] [testAllowNoScriptContextSettings] --&gt; setup script service
[2020-02-16T18:24:05,988][INFO ][o.e.s.ScriptServiceTests ] [testAllowNoScriptContextSettings] after test
[2020-02-16T18:24:05,990][INFO ][o.e.s.ScriptServiceTests ] [testCacheEvictionCountedInCacheEvictionsStats] before test
[2020-02-16T18:24:05,992][INFO ][o.e.s.ScriptServiceTests ] [testCacheEvictionCountedInCacheEvictionsStats] --&gt; setup script service
[2020-02-16T18:24:05,994][INFO ][o.e.s.ScriptServiceTests ] [testCacheEvictionCountedInCacheEvictionsStats] after test
[2020-02-16T18:24:05,997][INFO ][o.e.s.ScriptServiceTests ] [testMultipleCompilationsCountedInCompilationStats] before test
[2020-02-16T18:24:05,998][INFO ][o.e.s.ScriptServiceTests ] [testMultipleCompilationsCountedInCompilationStats] --&gt; setup script service
[2020-02-16T18:24:06,001][INFO ][o.e.s.ScriptServiceTests ] [testMultipleCompilationsCountedInCompilationStats] after test
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 5.6.2</a> at Feb 16, 2020, 5:26:22 PM</p>
</div>
</div>
</body>
</html>
